[교육자료](https://drive.google.com/drive/folders/15rZWrnKX8OgHGSQdd3lmC4kk2wy_RKRX)

# AWS DevOps와 Container
(by. 조성철 SA님)

## DevOps와 Cloud Native

### 목표
데브옵스의 정의와 컨테이너와의 연관성을 설명하고자 함

### 목차
- 데브옵스와 클라우드 네이티브
- 컨테이너와의 관계?
- 쿠버네티스와의 관계?
- IaC가 무엇인지
- CI/CD

### DevOps에 대한 오해
데브옵스 '개발과 운영을 동시에 하는 것'이라는 오해가 있음

= 운영이 가능한 개발자 or fullstack 개발자 를 의미? -> 아니다!

AWS, CI/CD, 모니터링, Git, IaC, 젠킨스 등은 데브옵스의 일부일 뿐 데브옵스 자체가 아님

=> 빠른 속도로 서비스하기 위한 문학 철학, 방식 및 도구의 조합을 의미한다.

### 데브옵스의 세 가지 영역
1. product
2. process
3. people

### Cloud Native?
CNCF(Cloud Native Computing Foundation) : 지속적으로 배포/통합을 위한 도구들은 오픈소스로 제공되는데 이런 오픈소스 관리를 주관

요즘 쿠버네티스가 오픈소스화가 많이 되어서 이에 관한 오픈소스는 CNCF가 관리하고 있다.

특징
1. 클라우드 환경에서 확장성이 있어야 한다. 
    - 서비스에 사용자가 몰렸을 때 확장성이 없다면 큰일남
2. 컨테이너, 서비스 메시, 마이크로 서비스 등의 기술 제공해야 한다
3. 회복성, 관리 편의성, 자동화가 있어야 빠른 배포가 가능 + end user들이 문제 없이 사용 가능
4. 벤더 중립적인 오픈소스 
    - 컨테이너도 OS를 따지지 않고 동작한다.

클라우드 네이티브는 데브옵스의 Product를 담당 = 기술 파트를 담당

### 데브옵스의 목적
> 더 빨리, 더 자주 배포하자

데브옵스를 사용하면 배포 빈도도 빨라지고, 리드 타임도 빨라짐 = 더 빨리, 더 자주를 충족
+) 변경 실패율도 dramatic하게 줄어들고 자동화도 가능해짐

리드 타임 : commit에서 배포까지의 시간

## 왜 컨테이너가 좋고 필요한가?
VM이 나오기 전에는 서버 자체 하드웨어를 가져와 OS 설치, OS 위에 app 개발 -> 시간이 오래걸린다. (주문, 구성, OS 설치, DB 설치 등의 과정이 필요했기 때문에 몇 개월까지도 소요되었음)

벤더에 종속적인 OS만 있다가 오픈소스화가 시작되면서 VM이 등장
Hypervisor? 를 올리면 guest OS(host, guest)가 생겨 물리적으로 분리된 하나의 서버인 것처럼 사용할 수 있게 된다.

더 나아가 컨테이너가 등장하게 됨
컨테이너는 서버가 하드웨어도, VM도 될 수 있다. 
컨테이너 런타임의 대표적인 예는 도커.

데브옵스라고 무조건 컨테이너를 사용해야하는 것은 아니지만, VM이 아무리 발전했어도 컨테이너를 사용하는 것이 더 빠르고, 데브옵스에 적합하다.

서버리스 - API Gateway, S3 등

### 도커
OS를 별도로 설치할 필요가 없다.

### 컨테이너 장점
1. 컨테이너 만드는 것 자체가 빠름
    - 불필요한 것을 넣지 않음
2. 가벼움
3. 휴대성
    - 컨테이너 레지스토리 : 접근만 가능하면 어디서든지 이미지로 컨테이너를 만들 수 있다. - 클러스트 자체를 나누는 경우

인프라를 의식하지 않고 더 빨리 더 자주 배포 가능

### 쿠버네티스가 필요한 이유?
하나의 호스트(컨테이너)로 서비스한다면 할 수 있음 -> 서비스가 커지면 컨테이너가 많아지는 것이 불가피함
컨테이너들끼리 인식 및 소통이 어려워짐 -> `낫트`가 필요함 -> 이 마저도 부족할 수 있음 

> 개발자 관점에서는 컨테이너가 이점이 많지만 운영 관리의 관점에서는 문제가 많다. => 쿠버네티스 필요!

### 컨테이너 오케스트레이터
마스터 노드(control plane)에서 판단 및 조정 가능

### 쿠버네티스

### IaC
서버 등의 시스템 인프라 구축 및 관리를 코드를 사용해서 하는 것을 의미
json 혹은 yaml 파일로 하는 것을 말함


# 컨테이너, 쿠버네티스

## GuardDuty
physical infra = onpremise
vm 이전 onpremise 인프라가 있을 때 보안 서비스가 클라우드로 넘어오면서 클라우드에 맞게끔 변화됨 - 그 중 가장 전형적인 서비스 : GuardDuty 

= 지능형 위협 탐지 서비스

: 데이터를 다 수집하여 자동으로 issue(비정상 사용자 행위)가 있는지 확인후 알람을 주는 서비스

## Cloud 9
Cloud 9에 역할/능력을 부여해야 한다 - 역할 부여 위해서 IAM이 필요

